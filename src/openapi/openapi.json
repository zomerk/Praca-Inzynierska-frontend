{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"bearerAuth":[]}],"paths":{"/user/sign":{"post":{"tags":["user-controller"],"operationId":"signUpToTrainer","parameters":[{"name":"trainerId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/user/rating":{"get":{"tags":["user-controller"],"operationId":"getRating","parameters":[{"name":"trainerId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"post":{"tags":["user-controller"],"operationId":"addRating","parameters":[{"name":"trainerId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Rating"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/user/feedback":{"post":{"tags":["user-controller"],"operationId":"feedbackAfterTraining","parameters":[{"name":"trainingId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Feedback"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"delete":{"tags":["user-controller"],"operationId":"deleteFeedback","parameters":[{"name":"trainingId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/user/complaint":{"post":{"tags":["user-controller"],"operationId":"postComplaint","parameters":[{"name":"trainerId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Complaint"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/trainer/deleteTraining":{"post":{"tags":["trainer-controller"],"operationId":"deleteTraining","parameters":[{"name":"trainingId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/trainer/addTraining":{"post":{"tags":["trainer-controller"],"operationId":"addTraining","parameters":[{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Training"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/register/user":{"post":{"tags":["auth-contorller"],"operationId":"registerUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/register/trainer":{"post":{"tags":["auth-contorller"],"operationId":"registerTrainer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrainerDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/register/admin":{"post":{"tags":["auth-contorller"],"operationId":"registerAdmin","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/login":{"post":{"tags":["auth-contorller"],"operationId":"authenticate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LoginResponseDTO"}}}}}}},"/chat/userToTrainer":{"post":{"tags":["message-controller"],"operationId":"sendMessageFromUserToTrainer","parameters":[{"name":"trainerName","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"content","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Message"}}}}}}},"/chat/trainerToUser":{"post":{"tags":["message-controller"],"operationId":"sendMessageFromTrainerToUser","parameters":[{"name":"userUsername","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"content","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Message"}}}}}}},"/admin/verify":{"post":{"tags":["admin-controller"],"operationId":"acceptTrainer","parameters":[{"name":"trainerId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"verified","in":"query","required":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK"}}}},"/admin/complaint":{"post":{"tags":["admin-controller"],"operationId":"resolveComplaint","parameters":[{"name":"complaintId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"ban","in":"query","required":true,"schema":{"type":"boolean"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/user/training":{"get":{"tags":["user-controller"],"operationId":"getTraining","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/trainer/users":{"get":{"tags":["trainer-controller"],"operationId":"getUsersByTrainer","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageUser"}}}}}}},"/trainer/getFeedback":{"get":{"tags":["trainer-controller"],"operationId":"getFeedback","parameters":[{"name":"trainingId","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/chat/history":{"get":{"tags":["message-controller"],"operationId":"getChatHistory","parameters":[{"name":"userUsername","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"trainerName","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Message"}}}}}}}},"/admin/unverified":{"get":{"tags":["admin-controller"],"operationId":"getUnverifiedTrainers","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"sortBy","in":"query","required":false,"schema":{"type":"string","default":"trainerId"}},{"name":"sortDir","in":"query","required":false,"schema":{"type":"string","default":"asc"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageTrainer"}}}}}}},"/admin/complaints":{"get":{"tags":["admin-controller"],"operationId":"getComplaints","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":10}},{"name":"sortBy","in":"query","required":false,"schema":{"type":"string","default":"complaintId"}},{"name":"sortDir","in":"query","required":false,"schema":{"type":"string","default":"asc"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageComplaint"}}}}}}}},"components":{"schemas":{"Rating":{"type":"object","properties":{"ratingId":{"type":"integer","format":"int32","readOnly":true},"ratingValue":{"type":"integer","format":"int32"},"comment":{"type":"string"},"createdAt":{"type":"string","format":"date-time","readOnly":true}}},"Feedback":{"type":"object","properties":{"feedbackId":{"type":"integer","format":"int32"},"feedbackText":{"type":"string"},"feeling":{"type":"string","enum":["POSITIVE","NEUTRAL","NEGATIVE"]},"ratingValue":{"type":"integer","format":"int32"}}},"Complaint":{"type":"object","properties":{"complaintId":{"type":"integer","format":"int32","readOnly":true},"complaintText":{"type":"string"},"status":{"type":"string","enum":["OPEN","CLOSED"]}}},"Segment":{"type":"object","properties":{"segmentId":{"type":"integer","format":"int32"},"segmentName":{"type":"string"},"durationType":{"type":"string","enum":["MINUTES","HOURS"]},"durationValue":{"type":"integer","format":"int32"},"intensity":{"type":"string"}}},"Training":{"type":"object","properties":{"trainingId":{"type":"integer","format":"int32"},"workoutName":{"type":"string"},"activityType":{"type":"string"},"scheduledAt":{"type":"string","format":"date-time"},"segmentList":{"type":"array","items":{"$ref":"#/components/schemas/Segment"}},"feedback":{"$ref":"#/components/schemas/Feedback"}}},"UserDTO":{"required":["age","email","firstName","fitnessLevel","lastName","password"],"type":"object","properties":{"firstName":{"maxLength":50,"minLength":1,"type":"string"},"lastName":{"maxLength":50,"minLength":1,"type":"string"},"email":{"type":"string"},"password":{"maxLength":2147483647,"minLength":8,"type":"string"},"age":{"type":"integer","format":"int32"},"fitnessLevel":{"type":"string"},"goal":{"type":"string"}}},"TrainerDTO":{"required":["email","experienceLevel","firstName","lastName","password","specialization"],"type":"object","properties":{"firstName":{"maxLength":50,"minLength":2,"type":"string"},"lastName":{"maxLength":50,"minLength":2,"type":"string"},"specialization":{"maxLength":100,"minLength":3,"type":"string"},"experienceLevel":{"maxLength":50,"minLength":2,"type":"string"},"email":{"type":"string"},"password":{"maxLength":2147483647,"minLength":8,"type":"string"}}},"AdminDTO":{"required":["email","firstName","lastName","password"],"type":"object","properties":{"firstName":{"maxLength":50,"minLength":2,"type":"string"},"lastName":{"maxLength":50,"minLength":2,"type":"string"},"email":{"type":"string"},"password":{"maxLength":2147483647,"minLength":8,"type":"string"}}},"LoginDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"LoginResponseDTO":{"type":"object","properties":{"token":{"type":"string"},"expiresIn":{"type":"integer","format":"int64"}}},"Message":{"type":"object","properties":{"content":{"type":"string"},"user":{"$ref":"#/components/schemas/User"},"trainer":{"$ref":"#/components/schemas/Trainer"},"timestamp":{"type":"string","format":"date-time"}}},"Trainer":{"type":"object","properties":{"trainerId":{"type":"integer","format":"int32"},"firstName":{"type":"string"},"lastName":{"type":"string"},"specialization":{"type":"string"},"experienceLevel":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"verified":{"type":"boolean"},"active":{"type":"boolean"}}},"User":{"type":"object","properties":{"userId":{"type":"integer","format":"int32"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"password":{"type":"string","writeOnly":true},"age":{"type":"integer","format":"int32"},"fitnessLevel":{"type":"string","enum":["BEGINNER","INTERMEDIATE","ADVANCED"]},"goal":{"type":"string"}}},"PageUser":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/User"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"unpaged":{"type":"boolean"},"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"unsorted":{"type":"boolean"},"sorted":{"type":"boolean"}}},"PageTrainer":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/Trainer"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}},"PageComplaint":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/Complaint"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"numberOfElements":{"type":"integer","format":"int32"},"empty":{"type":"boolean"}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}
